<!doctype html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Qu·∫£n L√Ω B·∫£n Tin - Th·∫ßy Khang Academy</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Lexend:wght@300;400;500;700;800&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #00bcd4;
        --bg: #f8fafc;
        --text: #1e293b;
        --danger: #ef4444;
        --success: #10b981;
      }
      body {
        font-family: "Lexend", sans-serif;
        background: var(--bg);
        margin: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 15px;
        min-height: 100vh;
      }
      .container {
        max-width: 500px;
        width: 100%;
      }

      /* HEADER */
      .header-main {
        text-align: center;
        margin-bottom: 25px;
      }
      .header-main h1 {
        margin: 0;
        font-size: 1.6rem;
        font-weight: 800;
        color: #0f172a;
      }
      .header-main p {
        margin: 5px 0;
        color: var(--primary);
        font-weight: 600;
        font-size: 0.8rem;
      }

      /* LOGIN */
      #login-zone {
        background: white;
        padding: 25px;
        border-radius: 25px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.05);
        margin-bottom: 20px;
        display: none;
        border: 1px solid #e2e8f0;
      }

      /* ADMIN BOX */
      #admin-box {
        background: #ffffff;
        padding: 20px;
        border-radius: 25px;
        box-shadow: 0 20px 40px rgba(0, 188, 212, 0.15);
        margin-bottom: 30px;
        display: none;
        border: 2px solid var(--primary);
      }

      .input-group {
        margin-bottom: 12px;
      }
      input,
      textarea {
        width: 100%;
        padding: 12px 15px;
        border: 1px solid #e2e8f0;
        border-radius: 12px;
        font-size: 14px;
        box-sizing: border-box;
        font-family: inherit;
        transition: 0.3s;
        background: #f8fafc;
      }
      input:focus,
      textarea:focus {
        border-color: var(--primary);
        outline: none;
        background: #fff;
      }

      /* KHU V·ª∞C CH·ªåN ·∫¢NH */
      .image-tools {
        background: #f1f5f9;
        padding: 15px;
        border-radius: 15px;
        margin-bottom: 15px;
        border: 1px dashed #cbd5e1;
      }
      .tool-title {
        font-size: 12px;
        font-weight: 700;
        color: #475569;
        margin-bottom: 10px;
        display: block;
      }
      .btn-link-tool {
        background: #64748b;
        color: white;
        border: none;
        padding: 8px 12px;
        border-radius: 8px;
        font-size: 11px;
        cursor: pointer;
        margin-bottom: 10px;
        display: inline-block;
        text-decoration: none;
      }

      .btn {
        background: linear-gradient(135deg, #00bcd4, #00acc1);
        color: white;
        border: none;
        padding: 15px;
        border-radius: 12px;
        font-weight: 700;
        width: 100%;
        cursor: pointer;
        font-size: 1rem;
      }
      .btn-delete {
        background: var(--danger);
        font-size: 11px;
        padding: 6px 12px;
        width: auto;
        margin-left: 10px;
      }

      /* FEED */
      .post-card {
        background: white;
        border-radius: 25px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.03);
        margin-bottom: 20px;
        border: 1px solid #f1f5f9;
      }
      .author-section {
        display: flex;
        align-items: center;
        padding: 15px;
        justify-content: space-between;
      }
      .avatar {
        width: 40px;
        height: 40px;
        background: var(--primary);
        border-radius: 50%;
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 800;
        margin-right: 10px;
      }
      .post-img {
        width: 100%;
        height: auto;
        display: block;
        max-height: 400px;
        object-fit: cover;
      }
      .post-body {
        padding: 20px;
      }
      .post-title {
        font-size: 1.25rem;
        font-weight: 800;
        color: #0f172a;
        margin: 0 0 10px 0;
      }
      .post-content {
        font-size: 0.95rem;
        color: #475569;
        line-height: 1.6;
        margin: 0;
        white-space: pre-wrap;
      }

      .admin-footer {
        margin: 40px 0;
        color: #cbd5e1;
        cursor: pointer;
        font-size: 0.7rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header class="header-main">
        <h1>Th·∫ßy Khang Academy</h1>
        <p>B·∫¢N TIN L√ÅI XE CH√çNH TH·ª®C</p>
      </header>

      <div id="login-zone">
        <input type="text" id="user" placeholder="T√™n ƒëƒÉng nh·∫≠p" />
        <input type="password" id="pass" placeholder="M·∫≠t kh·∫©u" />
        <input type="text" id="otp" placeholder="M√£ x√°c nh·∫≠n" />
        <button class="btn" onclick="checkLogin()">X√ÅC TH·ª∞C</button>
      </div>

      <div id="admin-box">
        <h3 style="margin-top: 0; color: var(--primary); font-size: 1rem">
          SO·∫†N TIN QU·∫¢NG C√ÅO
        </h3>
        <input type="text" id="p-title" placeholder="Ti√™u ƒë·ªÅ b√†i vi·∫øt" />
        <textarea
          id="p-content"
          rows="3"
          placeholder="N·ªôi dung kh√≥a h·ªçc..."
        ></textarea>

        <div class="image-tools">
          <span class="tool-title">H√åNH ·∫¢NH QU·∫¢NG C√ÅO</span>

          <a
            href="https://postimages.org/"
            target="_blank"
            class="btn-link-tool"
            >üåê M·ªü trang t·∫°o link ·∫£nh (PostImages)</a
          >

          <input
            type="text"
            id="p-link"
            placeholder="D√°n link ·∫£nh ƒë√£ t·∫°o v√†o ƒë√¢y (∆Øu ti√™n)"
          />
          <p
            style="
              text-align: center;
              font-size: 10px;
              color: #94a3b8;
              margin: 5px 0;
            "
          >
            -- HO·∫∂C CH·ªåN FILE T·ª™ M√ÅY --
          </p>
          <input type="file" id="p-file" accept="image/*" />
        </div>

        <button
          class="btn"
          style="background: var(--success)"
          onclick="savePost()"
        >
          ƒêƒÇNG B√ÄI NGAY
        </button>
        <button
          class="btn"
          style="background: #94a3b8; margin-top: 8px; font-size: 11px"
          onclick="clearData()"
        >
          X√ìA H·∫æT B√ÄI ƒêƒÇNG
        </button>
      </div>

      <div id="feed"></div>

      <div class="admin-footer" onclick="showLogin()">
        Qu·∫£n tr·ªã vi√™n h·ªá th·ªëng
      </div>
    </div>

    <script>
      const AUTH = { u: "thaykhang", p: "0907488815", o: "123456" };
      let fileImg = "";
      let isLogged = false;

      // ƒê·ªçc file ·∫£nh n·∫øu th·∫ßy ch·ªçn t·ª´ m√°y
      document
        .getElementById("p-file")
        .addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (file) {
            const reader = new FileReader();
            reader.onload = function (event) {
              fileImg = event.target.result;
            };
            reader.readAsDataURL(file);
          }
        });

      function showLogin() {
        document.getElementById("login-zone").style.display = "block";
      }

      function checkLogin() {
        if (
          document.getElementById("user").value === AUTH.u &&
          document.getElementById("pass").value === AUTH.p &&
          document.getElementById("otp").value === AUTH.o
        ) {
          isLogged = true;
          document.getElementById("admin-box").style.display = "block";
          document.getElementById("login-zone").style.display = "none";
          render();
          alert("ƒê√£ m·ªü quy·ªÅn qu·∫£n tr·ªã!");
        } else {
          alert("Sai th√¥ng tin!");
        }
      }

      function savePost() {
        const t = document.getElementById("p-title").value;
        const c = document.getElementById("p-content").value;
        const link = document.getElementById("p-link").value;

        if (!t || !c) return alert("Vui l√≤ng nh·∫≠p ƒë·ªß n·ªôi dung!");

        // ∆Øu ti√™n l·∫•y link ·∫£nh, n·∫øu kh√¥ng c√≥ m·ªõi l·∫•y file
        const finalImg = link ? link : fileImg;

        const post = {
          id: Date.now(),
          title: t,
          content: c,
          img: finalImg,
          time: new Date().toLocaleString("vi-VN"),
        };

        let list = JSON.parse(
          localStorage.getItem("thay_khang_posts_final") || "[]",
        );
        list.unshift(post);
        localStorage.setItem("thay_khang_posts_final", JSON.stringify(list));

        // Reset
        document.getElementById("p-title").value = "";
        document.getElementById("p-content").value = "";
        document.getElementById("p-link").value = "";
        document.getElementById("p-file").value = "";
        fileImg = "";

        render();
        alert("ƒêƒÉng b√†i th√†nh c√¥ng!");
      }

      function deleteP(id) {
        if (confirm("X√≥a b√†i n√†y?")) {
          let list = JSON.parse(
            localStorage.getItem("thay_khang_posts_final") || "[]",
          );
          list = list.filter((p) => p.id !== id);
          localStorage.setItem("thay_khang_posts_final", JSON.stringify(list));
          render();
        }
      }

      function clearData() {
        if (confirm("X√≥a s·∫°ch?")) {
          localStorage.removeItem("thay_khang_posts_final");
          render();
        }
      }

      function render() {
        const list = JSON.parse(
          localStorage.getItem("thay_khang_posts_final") || "[]",
        );
        const feed = document.getElementById("feed");
        if (list.length === 0) {
          feed.innerHTML =
            "<p style='text-align:center; color:#94a3b8;'>Ch∆∞a c√≥ tin ƒëƒÉng.</p>";
          return;
        }

        feed.innerHTML = list
          .map(
            (p) => `
            <div class="post-card">
                <div class="author-section">
                    <div style="display:flex; align-items:center;">
                        <div class="avatar">K</div>
                        <div><strong>TH·∫¶Y KHANG</strong><br><small style="color:#94a3b8">${p.time}</small></div>
                    </div>
                    ${isLogged ? `<button class="btn-delete" onclick="deleteP(${p.id})">X√≥a</button>` : ""}
                </div>
                ${p.img ? `<img src="${p.img}" class="post-img">` : ""}
                <div class="post-body">
                    <h2 class="post-title">${p.title}</h2>
                    <p class="post-content">${p.content}</p>
                </div>
            </div>
        `,
          )
          .join("");
      }
      render();
    </script>
  </body>
</html>
